
{
  "entities": {
    "UserProfile": {
      "title": "User Profile",
      "description": "Stores user profile information, including data for the media kit.",
      "type": "object",
      "properties": {
        "displayName": {
          "type": "string",
          "description": "The user's display name."
        },
        "email": {
          "type": "string",
          "format": "email",
          "description": "The user's email address."
        },
        "photoURL": {
          "type": "string",
          "format": "uri",
          "description": "URL of the user's profile picture."
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "The timestamp when the user profile was created."
        },
        "role": {
          "type": "string",
          "enum": ["admin", "user"],
          "description": "The user's role in the system. Defaults to 'user'."
        },
        "totalFollowerGoal": {
          "type": "number",
          "description": "The user's target number of total followers (Instagram + TikTok)."
        },
        "instagramFollowerGoal": {
            "type": "number",
            "description": "The user's target number of Instagram followers."
        },
        "tiktokFollowerGoal": {
            "type": "number",
            "description": "The user's target number of TikTok followers."
        },
        "niche": {
            "type": "string",
            "description": "The creator's content niche (e.g., 'Lifestyle and sustainable fashion')."
        },
        "bio": {
            "type": "string",
            "description": "A short, professional biography for the media kit."
        },
        "audience": {
            "type": "string",
            "description": "Description of the audience demographics."
        },
        "instagramHandle": {
            "type": "string",
            "description": "User's Instagram handle (e.g., @username)."
        },
        "instagramFollowers": {
            "type": "string",
            "description": "Total number of Instagram followers (e.g., '250K')."
        },
        "instagramAverageViews": {
            "type": "string",
            "description": "Average number of views per Instagram post (e.g., '15.5K')."
        },
        "instagramAverageLikes": {
            "type": "string",
            "description": "Average number of likes per Instagram post (e.g., '890')."
        },
        "instagramAverageComments": {
            "type": "string",
            "description": "Average number of comments per Instagram post (e.g., '120')."
        },
        "lastInstagramSync": {
            "type": "string",
            "format": "date-time",
            "description": "The timestamp of the last successful Instagram data sync."
        },
        "tiktokHandle": {
            "type": "string",
            "description": "User's TikTok handle (e.g., @YourChannel)."
        },
        "tiktokFollowers": {
            "type": "string",
            "description": "Total number of TikTok followers (e.g., '1.2M')."
        },
        "tiktokAverageViews": {
            "type": "string",
            "description": "Average number of views per TikTok video (e.g., '1M')."
        },
        "tiktokAverageLikes": {
            "type": "string",
            "description": "Average number of likes per TikTok video (e.g., '100K')."
        },
        "tiktokAverageComments": {
            "type": "string",
            "description": "Average number of comments per TikTok video (e.g., '1.5K')."
        },
        "lastTikTokSync": {
            "type": "string",
            "format": "date-time",
            "description": "The timestamp of the last successful TikTok data sync."
        },
        "subscription": {
          "type": "object",
          "description": "User's subscription status.",
          "properties": {
            "status": {
              "type": "string",
              "enum": ["active", "inactive"],
              "description": "Current status of the subscription."
            },
            "plan": {
              "type": "string",
              "enum": ["pro", "free", "premium"],
              "description": "The subscribed plan."
            },
             "cycle": {
              "type": "string",
              "enum": ["monthly", "annual"],
              "description": "The billing cycle of the subscription."
            },
            "expiresAt": {
              "type": "string",
              "format": "date-time",
              "description": "The timestamp when the subscription expires."
            },
            "paymentId": {
              "type": "string",
              "description": "The ID of the last payment or subscription from the payment provider."
            }
          }
        }
      },
      "required": ["displayName", "email", "createdAt"]
    },
     "WebhookLog": {
      "title": "Webhook Log",
      "description": "Stores a record of every webhook event received from the payment gateway.",
      "type": "object",
      "properties": {
        "receivedAt": {
          "type": "string",
          "format": "date-time",
          "description": "The timestamp when the webhook was received by our server."
        },
        "eventType": {
          "type": "string",
          "description": "The type of event (e.g., 'billing.paid')."
        },
        "payload": {
          "type": "object",
          "description": "The full JSON payload received from the webhook."
        },
        "isSuccess": {
          "type": "boolean",
          "description": "Indicates if the event represents a successful transaction."
        },
        "amount": {
          "type": "number",
          "description": "The transaction amount in cents (if applicable)."
        },
        "customerEmail": {
          "type": "string",
          "description": "The email of the customer involved in the transaction."
        }
      },
      "required": ["receivedAt", "eventType", "payload"]
    },
    "MetricSnapshot": {
        "title": "Metric Snapshot",
        "description": "A snapshot of a user's social media metrics for a specific day and platform.",
        "type": "object",
        "properties": {
            "date": {
                "type": "string",
                "format": "date-time",
                "description": "The timestamp when the snapshot was taken."
            },
            "platform": {
                "type": "string",
                "enum": ["instagram", "tiktok"],
                "description": "The social media platform for these metrics."
            },
            "followers": {
                "type": "string",
                "description": "Total number of followers at the time of the snapshot."
            },
            "views": {
                "type": "string",
                "description": "Average views at the time of the snapshot."
            },
            "likes": {
                "type": "string",
                "description": "Average likes at the time of the snapshot."
            },
            "comments": {
                "type": "string",
                "description": "Average comments at the time of the snapshot."
            }
        },
        "required": ["date", "platform", "followers"]
    },
    "DailyUsage": {
      "title": "Daily Usage",
      "description": "Tracks daily usage of features for a user.",
      "type": "object",
      "properties": {
        "date": {
          "type": "string",
          "format": "date",
          "description": "The date of the usage record (YYYY-MM-DD)."
        },
        "videoAnalyses": {
          "type": "number",
          "description": "Number of video analyses performed on this date."
        },
        "geracoesAI": {
          "type": "number",
          "description": "Number of general AI generations (video ideas, plans, etc.) on this date."
        }
      },
      "required": ["date"]
    },
    "PontoDadosGrafico": {
      "title": "Ponto de Dados do Gráfico",
      "description": "Representa um ponto de dados no gráfico de desempenho semanal.",
      "type": "object",
      "properties": {
        "data": { "type": "string", "description": "O dia da semana (ex: 'Seg')." },
        "alcance": { "type": "number", "description": "O alcance para aquele dia." },
        "engajamento": { "type": "number", "description": "O engajamento para aquele dia." }
      },
      "required": ["data", "alcance", "engajamento"]
    },
    "ItemRoteiro": {
      "title": "Item do Roteiro",
      "description": "Uma tarefa no roteiro de conteúdo semanal do criador.",
      "type": "object",
      "properties": {
        "dia": { "type": "string", "description": "O dia da semana para a tarefa." },
        "tarefa": { "type": "string", "description": "A descrição da tarefa." },
        "detalhes": { "type": "string", "description": "Detalhes adicionais sobre a tarefa." },
        "concluido": { "type": "boolean", "description": "Se a tarefa foi concluída." }
      },
      "required": ["dia", "tarefa", "detalhes", "concluido"]
    },
    "PlanoSemanal": {
      "title": "Plano Semanal",
      "description": "Armazena o plano de conteúdo semanal completo gerado pela IA.",
      "type": "object",
      "properties": {
        "userId": { "type": "string", "description": "O ID do usuário que gerou o plano." },
        "items": {
          "type": "array",
          "items": { "$ref": "#/entities/ItemRoteiro" },
          "description": "A lista de tarefas do roteiro para a semana."
        },
        "desempenhoSimulado": {
            "type": "array",
            "items": { "$ref": "#/entities/PontoDadosGrafico" },
            "description": "Uma simulação do desempenho para o plano semanal."
        },
         "effortLevel": {
            "type": "string",
            "enum": ["Baixo", "Médio", "Alto"],
            "description": "A carga de trabalho estimada para executar o plano da semana."
        },
        "priorityIndex": {
            "type": "array",
            "items": { "type": "string" },
            "description": "As 3 tarefas da semana com maior impacto potencial no crescimento."
        },
        "realignmentTips": {
            "type": "string",
            "description": "Dicas sobre o que fazer caso o usuário perca 1 ou 2 dias do plano."
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "O timestamp de quando o plano foi gerado."
        }
      },
      "required": ["userId", "items", "createdAt", "desempenhoSimulado"]
    },
    "IdeiaSalva": {
      "title": "Ideia Salva",
      "description": "Armazena uma ideia ou conteúdo gerado pela IA que o usuário salvou.",
      "type": "object",
      "properties": {
        "userId": { "type": "string", "description": "O ID do usuário que salvou a ideia." },
        "titulo": { "type": "string", "description": "Um título curto para a ideia salva." },
        "conteudo": { "type": "string", "description": "O conteúdo principal da ideia salva (roteiro, proposta, etc.)." },
        "origem": { "type": "string", "description": "A página onde a ideia foi gerada (ex: 'Ideias de Vídeo')." },
        "concluido": { "type": "boolean", "description": "Indica se a tarefa relacionada à ideia foi concluída." },
        "createdAt": { "type": "string", "format": "date-time", "description": "O timestamp de quando a ideia foi salva." },
        "completedAt": { "type": "string", "format": "date-time", "description": "O timestamp de quando a ideia foi marcada como concluída." }
      },
      "required": ["userId", "titulo", "conteudo", "origem", "concluido", "createdAt"]
    },
     "ConteudoAgendado": {
      "title": "Conteúdo Agendado",
      "description": "Representa um item de conteúdo agendado no calendário.",
      "type": "object",
      "properties": {
        "userId": { "type": "string", "description": "O ID do usuário que agendou o conteúdo." },
        "title": { "type": "string", "description": "Título do conteúdo." },
        "date": { "type": "string", "format": "date-time", "description": "Data e hora agendada para postagem." },
        "contentType": { "type": "string", "enum": ["Reels", "Story", "Post"], "description": "Tipo do conteúdo." },
        "status": { "type": "string", "enum": ["Agendado", "Publicado", "Rascunho"], "description": "Status atual do conteúdo." },
        "notes": { "type": "string", "description": "Anotações ou ideias para o conteúdo." },
         "createdAt": { "type": "string", "format": "date-time", "description": "O timestamp de quando o agendamento foi criado." }
      },
      "required": ["userId", "title", "date", "contentType", "status", "createdAt"]
    },
    "AnaliseVideo": {
      "title": "Análise de Vídeo",
      "description": "Armazena o resultado de uma análise de vídeo feita pela IA, incluindo a URL do vídeo e os dados da análise.",
      "type": "object",
      "properties": {
        "userId": { "type": "string", "description": "O ID do usuário que solicitou a análise." },
        "videoUrl": { "type": "string", "format": "uri", "description": "A URL do vídeo armazenado no Firebase Storage." },
        "videoFileName": { "type": "string", "description": "O nome original do arquivo de vídeo." },
        "analysisData": { "type": "object", "description": "O objeto JSON contendo os dados da análise da IA." },
        "createdAt": { "type": "string", "format": "date-time", "description": "O timestamp de quando a análise foi criada." }
      },
      "required": ["userId", "videoUrl", "videoFileName", "analysisData", "createdAt"]
    }
  },
  "auth": {
    "providers": ["password", "google.com"]
  },
  "firestore": {
    "/users/{userId}": {
      "schema": { "$ref": "#/entities/UserProfile" },
      "description": "Stores user profile data."
    },
    "/webhookLogs/{logId}": {
      "schema": { "$ref": "#/entities/WebhookLog" },
      "description": "Logs all incoming webhook events from the payment gateway."
    },
    "/users/{userId}/dailyUsage/{usageId}": {
        "schema": { "$ref": "#/entities/DailyUsage" },
        "description": "Tracks daily usage of features for a specific user. The document ID is the date in YYYY-MM-DD format."
    },
    "/users/{userId}/metricSnapshots/{snapshotId}": {
        "schema": { "$ref": "#/entities/MetricSnapshot" },
        "description": "Stores daily metric snapshots for a user, per platform."
    },
    "/users/{userId}/ideiasSalvas/{ideiaId}": {
      "schema": { "$ref": "#/entities/IdeiaSalva" },
      "description": "Stores saved AI-generated ideas for a specific user."
    },
     "/users/{userId}/conteudoAgendado/{conteudoId}": {
      "schema": { "$ref": "#/entities/ConteudoAgendado" },
      "description": "Stores scheduled content for a specific user."
    },
    "/users/{userId}/analisesVideo/{analiseId}": {
      "schema": { "$ref": "#/entities/AnaliseVideo" },
      "description": "Stores video analysis results for a specific user."
    },
    "/users/{userId}/weeklyPlans/{planoId}": {
      "schema": { "$ref": "#/entities/PlanoSemanal" },
      "description": "Stores AI-generated weekly content plans for a specific user."
    }
  }
}

    